<div class="container">
  <div style= "text-align: left;">
    <p>
      <%= attachment_image_tag @photo_image, :image, class:"card-img-top"; %>
    </p>
    <div class="card border-dark mb-3" style="max-width: 18rem;">
      <div class="card-body text-dark">
        <p>
          <%= attachment_image_tag @photo_image.user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg", class:"mt-3 rounded-circle" %>
          <%= @photo_image.user.name %>
          <%= @photo_image.created_at.strftime('%Y/%m/%d') %>
        </p>
        <p>写真名：<%= @photo_image.name %></p>
        <p>説明：<%= @photo_image.caption %></p>
        <% if @photo_image.user == current_user %>
            <%= link_to "編集", edit_photo_image_path(@photo_image), class: "btn btn-sm btn-success" %>
            <%= link_to "削除", photo_image_path(@photo_image), class: "btn btn-sm btn-danger", method: :delete %>
        <% end %>
        <!--idを用いる（1ビュー内で同名のidは存在してはいけないため）-->
        <!--クラス名を一意性があるものにする-->
        <p id="photo_image_<%= @photo_image.id %>" class="favorite-btn"><%= render "favorites/favorite-btn", photo_image: @photo_image %></p>
        <p class="comments-count">コメント数: <%= @photo_image.comments.count %></p>
      </div>
    </div>
    <div class="comments">
      <%= render 'comments/index', photo_image: @photo_image %>
    </div>
    <div style= "text-align: left;">
      <%= form_with(model:[@photo_image, @comment]) do |f| %>
        <%= f.text_area :comment, rows:'5',placeholder: "コメントをここに" %>
        <%= f.submit "コメントする" %>
      <% end %>
    </div>
  </div>
</div>